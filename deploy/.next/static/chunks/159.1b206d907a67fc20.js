"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[159],{159:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var n=t(5155),r=t(2115),a=t(5695);function o(e){let{children:s}=e,[t,o]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!0),[u,m]=(0,r.useState)(null),h=(0,a.useRouter)();return((0,r.useEffect)(()=>{"true"===sessionStorage.getItem("adminAuthenticated")&&d(!0),c(!1)},[]),i)?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?(0,n.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,n.jsx)("div",{className:"bg-white shadow",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex justify-between h-16",children:[(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("h1",{className:"text-xl font-bold text-black",children:"Burrito Rater Admin"})}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("button",{onClick:()=>{d(!1),sessionStorage.removeItem("adminAuthenticated"),h.push("/")},className:"ml-4 px-3 py-2 rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:"Logout"})})]})})}),(0,n.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s})]}):(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:(0,n.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center text-black",children:"Admin Login"}),u&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s="burrito123";if(console.log("Environment check:",{isClient:!0,hasPassword:!!s,passwordLength:s.length,nodeEnv:"production",location:window.location.href}),!s){console.error("Admin password not configured. Check if NEXT_PUBLIC_ADMIN_PASSWORD is set in Cloudflare Pages environment variables."),m("Admin password not configured. Please contact the administrator.");return}t===s?(console.log("Login successful"),d(!0),sessionStorage.setItem("adminAuthenticated","true"),m(null)):(console.log("Login failed - incorrect password"),m("Incorrect password"))},children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{htmlFor:"password",className:"block text-black text-sm font-bold mb-2",children:"Password"}),(0,n.jsx)("input",{type:"password",id:"password",value:t,onChange:e=>o(e.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter admin password",required:!0})]}),(0,n.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Login"})]})]})})}},5695:(e,s,t)=>{var n=t(8999);t.o(n,"usePathname")&&t.d(s,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(s,{useRouter:function(){return n.useRouter}})}}]);