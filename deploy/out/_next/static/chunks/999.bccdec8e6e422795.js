"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[999],{3999:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(5155),l=s(2115),n=s(2200);let r={animals:["\uD83E\uDD8A","\uD83D\uDC3C","\uD83D\uDC28","\uD83E\uDD81","\uD83D\uDC2F","\uD83D\uDC2E","\uD83D\uDC37","\uD83D\uDC38","\uD83D\uDC19","\uD83E\uDD84","\uD83E\uDD8B","\uD83D\uDC22","\uD83D\uDC2C","\uD83E\uDD88","\uD83E\uDDAD","\uD83E\uDDA9","\uD83E\uDD9C","\uD83D\uDC1D","\uD83E\uDD96","\uD83D\uDC33","\uD83E\uDD9A","\uD83E\uDDA1","\uD83E\uDDA8","\uD83E\uDDA6"],food:["\uD83C\uDF2E","\uD83C\uDF2F","\uD83C\uDF55","\uD83C\uDF54","\uD83C\uDF5F","\uD83C\uDF2D","\uD83C\uDF7F","\uD83C\uDF6A","\uD83C\uDF69","\uD83C\uDF70","\uD83C\uDF66","\uD83C\uDF68","\uD83C\uDF67","\uD83C\uDF6B","\uD83C\uDF6C","\uD83C\uDF6D"],faces:["\uD83D\uDE0A","\uD83D\uDE0E","\uD83E\uDD13","\uD83D\uDE07","\uD83E\uDD20","\uD83E\uDD21","\uD83E\uDD16","\uD83D\uDC7B","\uD83D\uDC7D","\uD83E\uDD16","\uD83E\uDD2A","\uD83E\uDD28","\uD83E\uDDD0","\uD83E\uDD13","\uD83D\uDE0B","\uD83E\uDD24"],nature:["\uD83C\uDF32","\uD83C\uDF33","\uD83C\uDF34","\uD83C\uDF35","\uD83C\uDF37","\uD83C\uDF38","\uD83C\uDF39","\uD83C\uDF3A","\uD83C\uDF3B","\uD83C\uDF3C","\uD83C\uDF3D","\uD83C\uDF3E","\uD83C\uDF3F","\uD83C\uDF40","\uD83C\uDF41","\uD83C\uDF42"],objects:["\uD83C\uDFAE","\uD83C\uDFB2","\uD83C\uDFAF","\uD83C\uDFA8","\uD83C\uDFAD","\uD83C\uDFAA","\uD83C\uDF9F️","\uD83C\uDFA0","\uD83C\uDFA1","\uD83C\uDFA2","\uD83C\uDFA3","\uD83C\uDFA4","\uD83C\uDFA7","\uD83C\uDFA8","\uD83C\uDFA9","\uD83C\uDFAA"]};function o(e){return e.length>=4&&e.length<=10}function i(e){if(!o(e))throw Error("Password must be between 4 and 10 characters");let t=function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s),t&=t;return Math.abs(t)}(e),s=t%Object.keys(r).length,a=Object.keys(r)[s],l=r[a],n=(t>>8)%l.length;return l[n]}function c(e){return({1:"\uD83D\uDE16",2:"\uD83D\uDE15",3:"\uD83D\uDE10",4:"\uD83D\uDE0B",5:"\uD83E\uDD24"})[Math.round(e)]||"\uD83D\uDE10"}function d(e){let{position:t,placeName:s,onSubmit:n,onClose:r}=e,[d,x]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[h,g]=(0,l.useState)("Breakfast Burrito"),[p,b]=(0,l.useState)(3),[f,j]=(0,l.useState)(3),[N,v]=(0,l.useState)(3),[y,w]=(0,l.useState)(10),[k,C]=(0,l.useState)(""),[S,P]=(0,l.useState)({hasPotatoes:!1,hasCheese:!1,hasBacon:!1,hasChorizo:!1,hasAvocado:!1,hasVegetables:!1});return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-1 sm:p-2 overflow-y-auto",children:(0,a.jsx)("div",{className:"bg-white rounded-lg w-full max-w-xl max-h-[95vh] overflow-y-auto my-2",children:(0,a.jsxs)("div",{className:"p-2 sm:p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h2",{className:"text-base sm:text-lg font-bold text-black",children:"Rate this Burrito"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let s=m.length>=4?i(m):void 0,a=function(e){let t=e.match(/\b\d{5}\b/);return t?t[0]:void 0}(t.address);n({latitude:t.lat,longitude:t.lng,burritoTitle:h,rating:p,taste:f,value:N,price:y,restaurantName:t.name,review:k,reviewerName:d.trim()||"Anonymous",identityPassword:m.length>=4?m:void 0,reviewerEmoji:s,zipcode:a,...S})},className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:"Restaurant"}),(0,a.jsx)("p",{className:"text-sm text-black leading-tight",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-black leading-tight",children:t.address})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-xs font-bold text-black",children:"Your Name (Optional)"}),(0,a.jsx)("input",{type:"text",id:"name",value:d,onChange:e=>x(e.target.value),className:"block w-full px-2 py-1 text-sm text-black bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Anonymous"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-xs font-bold text-black",children:"Reviewer Identity Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:m,onChange:e=>u(e.target.value),className:"block w-full px-2 py-1 text-sm text-black bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"4-10 chars for emoji",maxLength:10}),m&&!o(m)&&(0,a.jsx)("p",{className:"text-xs text-black leading-tight mt-0.5",children:"Password must be 4-10 characters"}),o(m)&&(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded-md mt-0.5",children:[(0,a.jsx)("span",{className:"text-2xl",children:i(m)}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-black",children:"Your Reviewer Identity"}),(0,a.jsx)("span",{className:"text-[10px] text-gray-600",children:"This emoji will appear on your review"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"burritoTitle",className:"block text-xs font-bold text-black",children:"Burrito Name"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"text",id:"burritoTitle",value:h,onChange:e=>g(e.target.value),className:"block w-full px-2 py-1 text-sm text-black bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),o(m)&&(0,a.jsx)("span",{className:"text-xl",role:"img","aria-label":"reviewer identity",children:i(m)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:"Overall Rating"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"5",step:"0.1",value:p,onChange:e=>b(Number(e.target.value)),className:"w-full"}),(0,a.jsx)("span",{className:"text-xl",role:"img","aria-label":"rating emotion",children:c(p)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-black leading-tight mt-0.5",children:[(0,a.jsx)("span",{children:"Poor"}),(0,a.jsx)("span",{children:"Amazing"})]}),(0,a.jsxs)("p",{className:"text-center text-xs font-medium text-black mt-0.5",children:["Rating: ",p.toFixed(1)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:"Taste"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"5",step:"0.1",value:f,onChange:e=>j(Number(e.target.value)),className:"w-full"}),(0,a.jsx)("span",{className:"text-xl",role:"img","aria-label":"taste rating",children:c(f)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-black leading-tight mt-0.5",children:[(0,a.jsx)("span",{children:"Poor"}),(0,a.jsx)("span",{children:"Delicious"})]}),(0,a.jsxs)("p",{className:"text-center text-xs font-medium text-black mt-0.5",children:["Taste: ",f.toFixed(1)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:"Value for Money"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"range",min:"1",max:"5",step:"0.1",value:N,onChange:e=>v(Number(e.target.value)),className:"w-full"}),(0,a.jsx)("span",{className:"text-xl",role:"img","aria-label":"value rating",children:c(N)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-black leading-tight mt-0.5",children:[(0,a.jsx)("span",{children:"Poor"}),(0,a.jsx)("span",{children:"Great Value"})]}),(0,a.jsxs)("p",{className:"text-center text-xs font-medium text-black mt-0.5",children:["Value: ",N.toFixed(1)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:"Price ($)"}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"range",min:"3",max:"35",step:"0.5",value:y,onChange:e=>w(Number(e.target.value)),className:"w-full"}),(0,a.jsx)("span",{className:"text-xl",role:"img","aria-label":"price reaction",children:y<=5?"\uD83E\uDD11":y<=8?"\uD83D\uDE0A":y<=12?"\uD83D\uDE10":y<=15?"\uD83D\uDE1F":y<=20?"\uD83D\uDE20":y<=25?"\uD83E\uDD2C":"\uD83E\uDD2F"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-black leading-tight mt-0.5",children:[(0,a.jsx)("span",{children:"$3"}),(0,a.jsx)("span",{children:"$35"})]}),(0,a.jsxs)("p",{className:"text-center text-sm font-bold text-black leading-tight mt-0.5",children:["$",y.toFixed(2)]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-bold text-black",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:["Ingredients ",(0,a.jsx)("span",{className:"text-xl",children:"\uD83E\uDDC2"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-1 mt-1",children:Object.entries(S).map(e=>{let[t,s]=e;return(0,a.jsxs)("label",{className:"flex items-center gap-1",children:[(0,a.jsx)("input",{type:"checkbox",checked:s,onChange:e=>P(s=>({...s,[t]:e.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,a.jsxs)("span",{className:"text-xs text-black flex items-center gap-0.5",children:[(0,a.jsxs)("span",{className:"text-lg",children:["hasPotatoes"===t&&"\uD83E\uDD54","hasCheese"===t&&"\uD83E\uDDC0","hasBacon"===t&&"\uD83E\uDD53","hasChorizo"===t&&"\uD83C\uDF2D","hasAvocado"===t&&"\uD83E\uDD51","hasVegetables"===t&&"\uD83E\uDD6C"]}),t.replace("has","")]})]},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"review",className:"block text-xs font-bold text-black",children:"Review (Optional)"}),(0,a.jsx)("textarea",{id:"review",rows:2,value:k,onChange:e=>C(e.target.value),className:"block w-full px-2 py-1 text-sm text-black bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"Share your thoughts about this burrito..."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-1 mt-2",children:[(0,a.jsx)("button",{type:"button",onClick:r,className:"px-3 py-1 border border-gray-300 rounded-md shadow-sm text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-3 py-1 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-blue-500",children:"Submit Rating"})]})]})]})})})}var x=s(8070);let m={width:"100%",height:"100%"},u=["places"],h={lat:34.0011,lng:-118.4285},g={disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!0,rotateControl:!0,fullscreenControl:!0,gestureHandling:"cooperative",clickableIcons:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},p={input:{width:"100%",maxWidth:"300px",height:"40px",padding:"0 12px",borderRadius:"8px",border:"1px solid #e2e8f0",backgroundColor:"white",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",outline:"none",fontSize:"16px",color:"#1a202c",zIndex:1}},b=e=>{let{refreshTrigger:t=0}=e,{isLoaded:s,loadError:r}=(0,n.KD)({id:"google-map-script",googleMapsApiKey:"AIzaSyD-ner96UaZTvp6Aaj1wLttaT0SV-CWOEs",libraries:u}),[o,i]=(0,l.useState)(null),[c,b]=(0,l.useState)(null),[f,j]=(0,l.useState)([]),[N,v]=(0,l.useState)(null),[y,w]=(0,l.useState)(!1),[k,C]=(0,l.useState)([]),[S,P]=(0,l.useState)(null),[E,F]=(0,l.useState)(null),[T,D]=(0,l.useState)(h),[O,A]=(0,l.useState)([]),[I,R]=(0,l.useState)(0);(0,l.useEffect)(()=>{(async()=>{try{console.log("Fetching ratings from API");let e=await fetch((0,x.e)("ratings"));if(!e.ok){let t=await e.text();throw console.error("API Error (".concat(e.status,"): ").concat(t)),Error("Failed to fetch ratings: ".concat(e.status," ").concat(e.statusText))}let t=await e.json();console.log("Fetched ratings:",t);let s=t.filter(e=>{let t="number"==typeof e.confirmed&&1===e.confirmed||"boolean"==typeof e.confirmed&&!0===e.confirmed;return console.log("Rating ".concat(e.id," (").concat(e.restaurantName,"): confirmed=").concat(e.confirmed,", isConfirmed=").concat(t)),t});console.log("Filtered ".concat(t.length," ratings to ").concat(s.length," confirmed ratings")),C(s)}catch(e){console.error("Error fetching ratings:",e)}})()},[t]);let B=(0,l.useCallback)(e=>{i(e)},[]),L=(0,l.useCallback)(e=>{b(e)},[]),W=(0,l.useCallback)(()=>{if(c&&o){let e=c.getPlaces();if(!e||0===e.length)return;let t=new google.maps.LatLngBounds,s=[];e.forEach(e=>{e.geometry&&e.geometry.location&&(e.geometry.viewport?(t.extend(e.geometry.viewport.getNorthEast()),t.extend(e.geometry.viewport.getSouthWest())):t.extend(e.geometry.location),e.geometry.location&&e.name&&v({lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),name:e.name,address:e.formatted_address||""}),s.push(e))}),o.fitBounds(t),j(s),F({north:t.getNorthEast().lat(),south:t.getSouthWest().lat(),east:t.getNorthEast().lng(),west:t.getSouthWest().lng()})}},[c,o]),z=async e=>{try{if(!(await fetch((0,x.e)("ratings"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to submit rating");let t=await fetch((0,x.e)("ratings"));if(!t.ok)throw Error("Failed to fetch updated ratings");let s=await t.json(),a=s.filter(e=>{let t="number"==typeof e.confirmed&&1===e.confirmed||"boolean"==typeof e.confirmed&&!0===e.confirmed;return console.log("After submission - Rating ".concat(e.id," (").concat(e.restaurantName,"): confirmed=").concat(e.confirmed,", isConfirmed=").concat(t)),t});console.log("After submission - Filtered ".concat(s.length," ratings to ").concat(a.length," confirmed ratings")),C(a),w(!1),v(null),alert("Your rating has been submitted and is awaiting admin confirmation. It will appear on the map once confirmed.")}catch(e){console.error("Error submitting rating:",e)}},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={1:t?"#DC2626":"#FEE2E2",2:t?"#F97316":"#FEF3C7",3:t?"#EAB308":"#FEF9C3",4:t?"#22C55E":"#DCFCE7",5:t?"#16A34A":"#BBF7D0"};return s[Math.round(e)]||s[3]},_=e=>{let t=k.filter(t=>1e-4>Math.abs(t.latitude-e.latitude)&&1e-4>Math.abs(t.longitude-e.longitude));if(t.length>1){A(t);let s=t.findIndex(t=>t.id===e.id);R(s>=0?s:0),P(t[s>=0?s:0])}else A([e]),R(0),P(e)},V=()=>{if(O.length>1){let e=(I+1)%O.length;R(e),P(O[e])}},H=()=>{if(O.length>1){let e=(I-1+O.length)%O.length;R(e),P(O[e])}};return r?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-red-600 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Error Loading Google Maps"}),(0,a.jsx)("p",{children:"Please check your API key and enabled services."}),(0,a.jsxs)("p",{className:"text-sm mt-2",children:["Error: ",r.message]})]})}):s?(0,a.jsxs)("div",{className:"relative w-full h-full",children:[(0,a.jsxs)(n.u6,{mapContainerClassName:"absolute inset-0",mapContainerStyle:m,center:T,zoom:14,onLoad:B,options:{...g,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},mapTypeControl:!0,mapTypeControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},scaleControl:!0,streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},rotateControl:!0,rotateControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT}},children:[(0,a.jsx)(n.dj,{onLoad:L,onPlacesChanged:W,children:(0,a.jsx)("input",{type:"text",placeholder:"Search for a restaurant",className:"absolute top-4 left-4 z-10",style:p.input})}),k.map(e=>(0,a.jsx)(n.pH,{position:{lat:e.latitude,lng:e.longitude},onClick:()=>_(e),title:"".concat(e.restaurantName,": ").concat(e.burritoTitle),label:{text:"\uD83C\uDF2F",fontSize:"24px",className:"marker-label"},icon:{path:google.maps.SymbolPath.CIRCLE,scale:16,fillColor:M(e.rating),fillOpacity:.7,strokeWeight:2,strokeColor:M(e.rating,!0)}},e.id)),N&&(0,a.jsx)(n.Fu,{position:{lat:N.lat,lng:N.lng},onCloseClick:()=>v(null),options:{maxWidth:320},children:(0,a.jsxs)("div",{className:"p-1 pt-0 min-w-[280px]",children:[(0,a.jsx)("h3",{className:"font-bold text-base sm:text-lg mb-2 text-gray-900 mt-0",children:N.name}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:N.address}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)("button",{onClick:()=>{N&&w(!0)},className:"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Rate a Burrito Here"})})]})}),S&&(0,a.jsx)(n.Fu,{position:{lat:S.latitude,lng:S.longitude},onCloseClick:()=>{P(null),A([]),R(0)},options:{maxWidth:320},children:(0,a.jsxs)("div",{className:"p-1 pt-0 min-w-[280px] relative",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-base sm:text-lg text-gray-900 mt-0",children:S.restaurantName}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:S.burritoTitle}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500 italic",children:"by"}),(0,a.jsx)("span",{className:"text-sm font-bold text-gray-700",children:S.reviewerName||"Anonymous"}),S.reviewerEmoji&&(0,a.jsx)("span",{className:"text-lg",children:S.reviewerEmoji})]})]}),(0,a.jsx)("div",{className:"flex flex-col items-end",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)("div",{className:"bg-blue-100 px-3 py-1 rounded-full flex items-center gap-1",children:[(0,a.jsx)("span",{className:"text-lg font-bold text-blue-800",children:S.rating}),(0,a.jsx)("span",{className:"text-blue-600",children:"/5"})]})})})]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"\uD83D\uDE0B"}),(0,a.jsx)("span",{children:S.taste.toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB0"}),(0,a.jsx)("span",{children:S.value.toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB5"}),(0,a.jsxs)("span",{children:["$",S.price.toFixed(2)]})]})]})}),S.review&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-700",children:['"',S.review,'"']}),O.length>1&&(0,a.jsxs)("div",{className:"flex justify-end items-center mt-3 text-gray-500",children:[(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),H()},className:"p-1 hover:bg-gray-100 rounded-full","aria-label":"Previous rating",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("span",{className:"text-xs mx-1",children:[I+1,"/",O.length]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),V()},className:"p-1 hover:bg-gray-100 rounded-full","aria-label":"Next rating",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})]}),y&&N&&(0,a.jsx)(d,{position:N,placeName:N.name,onSubmit:z,onClose:()=>{w(!1),v(null)}})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-blue-500"})})}},8070:(e,t,s)=>{s.d(t,{e:()=>a});let a=e=>{let t="https://your-worker-name.your-account.workers.dev";console.log("Using API base URL: ".concat(t));let s=e;return e.startsWith("/api/")||e.startsWith("api/")?e.startsWith("/")&&(s=e.substring(1)):s="api/".concat(e),"".concat(t,"/").concat(s)}}}]);